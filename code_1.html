<html>
<head>
<title>
LAWS::Code
</title>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="images.png"/>

<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style type="text/css">
	.bg{
		background-color:#d3d3d3;
	}
.bs-example:after {
  content: "Example";
  position: absolute;
  top:  15px;
  left: 15px;
  font-size: 12px;
  font-weight: bold;
  color: #bbb;
  text-transform: uppercase;
  letter-spacing: 1px;
}
.bs-callout {
    padding: 20px;
    margin: 20px 0;
    border: 1px solid #eee;
    border-left-width: 5px;
    border-radius: 3px;
}
.topspace{
    margin:100px auto;max-width:805px;
    }
</style>
 <script src="http://uguru-realestate-us-jun202013.businesscatalyst.com/3d-slider/sliderengine/jquery.js"></script>
    <script src="http://uguru-realestate-us-jun202013.businesscatalyst.com/3d-slider/sliderengine/amazingslider.js"></script>
    <script src="http://uguru-realestate-us-jun202013.businesscatalyst.com/3d-slider/sliderengine/initslider-1.js"></script>

</head>
<body>


<div id="myCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
    
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    

    <div class="item active" style="width:100%;height:100%">
      <img src="3.jpg" alt="Chania">
    </div>

    <div class="item" style="width:100%;height:100%">
      <img src="2.jpg" alt="Flower">
    </div>

    <div class="item" style="width:100%;height:100%">
      <img src="1.jpg" alt="Flower">
    </div>
  </div>

  <!-- Left and right controls -->
  <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<img src="download (1).jpg" style="margin-left:3em;position:absolute;top:18cm;bgcolor:#0000FF">
<div id="info"style="margin-left:20em;position:absolute;left:1cm;top:18cm">
	<bg><h2><b>I.S.T.E </b></br><small>presents</small></h2>
	<h1><b>Low Altitude Weather Satellite (LAWS)</b></h1>
	</bg>
</div>
<marquee width="100%">GET WEATHER DETAILS</marquee>
<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="position:absolute;top:24cm">
      <ul class="nav navbar-nav">
      <li> <a href="index.html"><span class="glyphicon glyphicon-home" aria-hidden="true"></span>&nbsp;&nbsp;Home</a></li>
      <li><a href="tech.html"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;&nbsp;Technical Team</a></li>
      <li class="active"><a href="code.html"><span class="glyphicon glyphicon-file" aria-hidden="true"></span>&nbsp;&nbsp;Code</a></li>
      <li><a href="info.html"><span class="glyphicon glyphicon-stats" aria-hidden="true"></span>&nbsp;&nbsp;Information Data</a></li>
      <li><a href="gallery.html"><span class="glyphicon glyphicon-picture" aria-hidden="true"></span>&nbsp;&nbsp;Gallery</a></li>
      <li><a><span></span>&nbsp;&nbsp;</a></li>
      </ul>
    <ul class="nav navbar-nav navbar-right">
      
   </ul></div>
<div style="margin-left:10em;padding-top:10px;position:absolute;top:26cm;left:-1cm%">
<h3>Hardware Part on Air</h3>
<div class="bs-callout" style="background-color:#F2F2F2">
<xmp lang="en">

//mq135 is connected to pin A1
//
char str[4];
const int GasSensorPin = A2;  // Analog input pin that the Sensor is attached to

int GasSensorValue = 0;
float GasFactor = 2224.57143; //28571428571428571428571429 
#include <Wire.h>
#include <Adafruit_Sensor.h>
#include <Adafruit_BMP085_U.h>
#include "DHT.h"
int BH1750_address = 0x23; // i2c Addresse
byte buff[2];

#define DHTPIN 2 
#define DHTTYPE DHT22
DHT dht(DHTPIN, DHTTYPE);
int LDR = 0;
int LdrValue = 0;

Adafruit_BMP085_Unified bmp = Adafruit_BMP085_Unified(10085);

void setup() {
  Serial.begin(9600);
  Serial1.begin(9600);
  pinMode(A1,INPUT);
   pinMode(GasSensorPin,INPUT);
  dht.begin();
  
  
 
}

void loop() {
float data=analogRead(A1); //READING ANALOG DATA FROM PIN A1
int Rs = (1)*data;
Serial.println("-------------------------------");
Serial.println("WEATHER REPORT OF KNIT SULTANPUR");
Serial.println("BY ISTE TEAM");

  Serial.println("");
  Serial.println("");


    if(!bmp.begin())
  {
    /* There was a problem detecting the BMP085 ... check your connections */
    Serial.print("Ooops, no BMP085 detected ... Check your wiring or I2C ADDR!");
    while(1);
  }
  
  sensors_event_t event;
  bmp.getEvent(&event);
  float atmq =(0.0009869)*(event.pressure);
  float mega=(atmq)/(9.869);

   

    float temperature;
    bmp.getTemperature(&temperature);
   
      float seaLevelPressure = SENSORS_PRESSURE_SEALEVELHPA;
   
    //////////////////////////////////////////////////////////////////NOW INTERFACING OF DHT WILL BE INTRODUCED
      // Reading temperature or humidity takes about 250 milliseconds!
  // Sensor readings may also be up to 2 seconds 'old' (its a very slow sensor)
  float h = dht.readHumidity();
  // Read temperature as Celsius (the default)
  float t = dht.readTemperature();
  // Read temperature as Fahrenheit (isFahrenheit = true)
  float f = dht.readTemperature(true);

  // Check if any reads failed and exit early (to try again).
  if (isnan(h) || isnan(t) || isnan(f)) {
    Serial.println("Failed to read from DHT sensor!");
    return;
  }

  // Compute heat index in Fahrenheit (the default)
  float hif = dht.computeHeatIndex(f, h);
  // Compute heat index in Celsius (isFahreheit = false)
  float hic = dht.computeHeatIndex(t, h, false);
   GasSensorValue = analogRead(GasSensorPin);   
   ////////////////////////////////////////////////////UV SENSOR
  int sensorValue = 0;
  sensorValue = analogRead(0);                        //connect UV sensor to Analog 0   
  int voltage = (sensorValue) * (5.0 / 1023.0);  //Voltage in miliVolts
  
  if(voltage<50)
  {
    Serial.println("0");
  }else if (voltage>50 && voltage<=227)
  {
    Serial.println("0");
  }else if (voltage>227 && voltage<=318)
  {
    Serial.println("1");
  }
  else if (voltage>318 && voltage<=408)
  {
    Serial.println("2");
  }else if (voltage>408 && voltage<=503)
  {
    Serial.println("3");
  }
  else if (voltage>503 && voltage<=606)
  {
    Serial.println("4");
  }else if (voltage>606 && voltage<=696)
  {
    Serial.println("5");
  }else if (voltage>696 && voltage<=795)
  {
    Serial.println("6");
  }else if (voltage>795 && voltage<=881)
  {
    Serial.println("7");
  }
  else if (voltage>881 && voltage<=976)
  {
    Serial.println("8");
  }
  else if (voltage>976 && voltage<=1079)
  {
    Serial.println("9");
  }
  else if (voltage>1079 && voltage<=1170)
  {
    Serial.println("10");
  }else if (voltage>1170)
  {
    Serial.println("11");
  }
  delay(200);// put your main code here, to run repeatedly:




  
/////////////////////////////////////////////////////////
  Serial.print("Humidity: ");
  Serial.print(h);
  Serial.println(" %\t");
  Serial.print("Temperature: ");
  Serial.print(t);
  Serial.print(" *C ");
  Serial.print(f);
  Serial.println(" *F\t");
  Serial.print("Heat index: ");
  Serial.print(hic);
  Serial.print(" *C ");
  Serial.print(hif);
  Serial.println(" *F");
  Serial.print("Pressure:    ");
    Serial.print(mega);
    Serial.print(" MPa  ");
    Serial.print(atmq);

    Serial.println("atm");
      Serial.print("Altitude:    "); 
    Serial.print(bmp.pressureToAltitude(seaLevelPressure,
                                        event.pressure)); 
    Serial.println(" m");
    //Serial.println("-------------------------------");
    Serial.print("CO2 LEVEL : ");
Serial.print(Rs);
Serial.print("  ppm");
Serial.println();
Serial.print("CO-Sensor   : ");
   Serial.println(GasSensorValue / GasFactor); 
    
  int i=0;

  if (Serial1.available()) {
    delay(100); //allows all serial sent to be received together
    while(Serial1.available()) {
      str[i++] = Serial1.read();
    }
    str[i++]='\0';
  }

 //if(i>0)
 for(i=0;i<=3;i++)
  {
    Serial.print(str[i]);
  }
  if(i>3)
  i=0;
  Serial.println("");
    Serial.println("-------------------------------");
  delay(1000);/////////////////////////////
  /////////////////////////////////Readings from luminous intensity sensor
  //   LdrValue = analogRead(LDR);
   //LdrValue = map(LdrValue,-30, 430, 2, 73);
  // Serial.print("Light Intensity value is  ");
  // Serial.print(LdrValue );
 // Serial.println("%\n");
    delay(3500);
    
}



</xmp


</div>
</div>

<div class="btn-group" role="group" aria-label="..."style="margin-left:29em;margin-top:10em;position:absolute;left:-1cm%">
  <a href="code_1.html"type="button" class="btn btn-default">1</a>
  <a href="code_2.html" type="button" class="btn btn-default">2</a>
  <a href="code_3.html" type="button" class="btn btn-default">3</a>
  <a href="code_4.html" type="button" class="btn btn-default">4</a>
</div>

</body>




</html>
